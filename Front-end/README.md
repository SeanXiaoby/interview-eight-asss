# Front-end 前端常见问题

- [Javascript](#Javascript)
- [DOM](#DOM)
- [HTML](#HTML)
- [CSS](#CSS)
- [Http/Https](#HttpHttps)


---

## Javascript

是基于原型的动态语言，主要独特特性有 this、原型和原型链。

JS 严格意义上来说分为：语言标准部分（ECMAScript）+ 宿主环境部分

**语言标准部分**

2015 年发布 ES6，引入诸多新特性使得能够编写大型项目变成可能，标准自 2015 之后以年号代号，每年一更

**宿主环境部分**

在浏览器宿主环境包括 DOM + BOM 等
在 Node，宿主环境包括一些文件、数据库、网络、与操作系统的交互等

### Javascript 基本数据类型

- 六种：
  - Undefined, null, Boolean, Int, String, Object
- 八种
  - ... Symbol, BigInt

### 深拷贝/浅拷贝

- 浅拷贝：浅拷贝只复制对象的引用而不是对象本身。这意味着当你更改拷贝对象时，原始对象也会被更改，因为它们共享同一个引用。常见的浅拷贝方法包括对象展开、`Object.assign()` 方法、`Array.slice()` 方法等
- 深拷贝：深拷贝则是在复制对象时递归地复制其属性值。这意味着即使拷贝对象和原始对象具有相同的属性和值，它们也是不同的对象，互相独立。常见的深拷贝方法包括 `JSON.parse()` 和 `JSON.stringify()` 方法、`Lodash` 库等

### Array 关于数组

#### map /forEach

`Array.map()`和`Array.forEach()`都是对数组的对象进行操作，他们的回调函数都接受三个参数：

- 单个元素
- 元素索引index
- 整个数组

两者的区别：

- `map()`会创建一个新数组，由回调函数返回新数组里的每个元素的值
- `forEach()`不会返回任何有意义的值，只是对原数组的元素做操作

#### 判断数组

`Array.isArray()`

#### 增删改查

- 尾部推入： `push()`
- 头部推入： `unshift()`
- 尾部删除： `pop()`
- 头部删除： `shift()`

- 任意位置删除：`splice()`
  - 第一个参数：插入/删除的起始位置
  - 第二个参数：删除的数量
  - 之后的参数：插入的元素

- 删除某些特征的元素： `filter(cb)`

### 原型链与继承

原型链是一种机制，它允许 JavaScript 对象继承其原型对象的属性和方法。每个 JavaScript 对象都有一个原型对象，可以通过 `Object.getPrototypeOf(obj)` 或 `obj.__proto__` 访问。

可以使用 `Object.create()` 方法来创建一个继承自另一个对象的新对象。

**原型对象**是每个 JavaScript 对象中都存在的一个属性，它包含了该对象的原型链所需的属性和方法。我们可以想原型对象添加属性，也可以通过递归查找原型对象获取对象的属性。

### promise await async

在 JavaScript 中，Promise 是一种用于处理异步操作的对象。它可以让我们更容易地编写异步代码，避免出现回调函数地狱。

Promise 可以有三种状态：`pending（等待）`、`fulfilled（已成功）`和`rejected（已失败）`。当 Promise 被创建时，它处于等待状态，然后可能会变为已成功或已失败状态。

在 Promise 中，我们可以使用 `then()` 方法来处理成功状态，使用` catch() `方法来处理失败状态，也可以使用`finally()` 方法来处理无论成功还是失败状态都需要执行的代码。


### ...的用法

在 JavaScript 中，`...`（三个点）是一种扩展语法，也称为“展开语法”。它可以将一个数组或对象展开成另一个数组或对象。

- 展开数组
- 合并对象
- 函数参数
- 剩余参数


### 作用域 var const let closures

`var`, `let`和`const`都是js中声明变量的关键字

- `var`是ES5标准中的关键字，其作用域仅限函数内部
  - 可以被重复声明
  - 存在变量提升的问题
- `let`是ES6的关键字，其存在块级作用域，在块级作用域外无法访问
  - 不可重复声明
- `const`是ES6的关键字, 用于声明一个常量。与 let 类似，const 声明的变量也是有块级作用域的
  - 不可重复声明
  - 不可修改
  - 其对象里的属性可以被重新修改，但其本身不可修改

#### 闭包

闭包是指有权访问另一个函数作用域中的变量的函数，创建闭包的常见方式是在一个函数内部创建另一个函数。闭包的特点是可以访问外部函数的变量，即使外部函数已经返回。

#### 变量提升

在 JavaScript 中，变量提升是指在执行代码之前，JavaScript 引擎会将变量的声明提升到代码的最上面，这就导致了一些意想不到的问题。

例如，变量在声明之前就被使用了，这时候变量的值就会是 `undefined`。这个问题通常出现在使用 `var` 声明变量时。

解决这个问题的方法是使用 `let` 或 `const` 声明变量，这两个关键字都不会存在变量提升的问题。

### 跨域请求

在浏览器中，当通过 XMLHttpRequest 或 Fetch 等方式向不同域名（协议、域名、端口号有任意一个不同）的服务器发送请求时，浏览器会阻止这种请求，这种限制被称为“跨域请求”。

浏览器中实现跨域请求的方法有多种，其中比较常用的是 **JSONP、CORS 和代理**。

#### JSONP

JSONP（JSON with Padding）是一种利用 script 标签进行跨域请求的方法。**通过创建一个 script 标签，然后设置其 src 属性为需要请求的 URL**，同时在 URL 的末尾添加一个参数，该参数的值是回调函数的名称，服务器返回的数据将被包裹在回调函数中，最后在客户端定义该回调函数，从而得到服务器返回的数据。

#### CORS

CORS（Cross-Origin Resource Sharing）是一种通过服务器端设置 HTTP 头来实现跨域请求的方法。服务器在响应请求时，设置 Access-Control-Allow-Origin 头，指定允许跨域请求的域名，这样客户端的请求就可以通过浏览器成功发出。

#### 代理

代理是指在服务端设置一个中转服务器，前端请求这个中转服务器，再由中转服务器去请求目标服务器，拿到数据后再返回给前端。这样，前端请求的是同一个域名和端口，就避免了跨域的问题。


### ES6 新特性

- let 和 const 关键字：用于声明变量，相比 var 关键字，具有更加严格的作用域规则，能够避免变量提升和全局污染等问题。

- 箭头函数：使用箭头（=>）定义函数，简化了函数的语法形式，并且自动绑定了 this 关键字，使得函数的作用域更加明确。

- 模板字符串：使用反引号（`）定义字符串，可以方便地插入变量和表达式，避免了传统字符串拼接的繁琐。

- 解构赋值：使用类似模式匹配的方式，将对象或数组中的元素赋值给变量，使得代码更加简洁易懂。

- Promise：一种异步编程的解决方案，用于管理复杂的异步操作，避免了回调地狱的问题。

- class 和 extends 关键字：用于定义类和继承关系，使得面向对象编程更加方便和直观。

- 模块化：使用 import 和 export 关键字，将代码分割为多个模块，避免了全局变量污染和命名冲突的问题。

---

## Http/Https

HTTP（Hypertext Transfer Protocol）和 HTTPS（Hypertext Transfer Protocol Secure）是两种常用的网络协议，用于在 Web 中传输数据。

- HTTP 是一种无状态的、不加密的协议，数据传输过程中不对数据进行加密，因此可能存在安全隐患，容易被黑客窃取和篡改。通常用于传输普通的文本、图片等非敏感数据。

- **HTTPS 是在 HTTP 基础上增加了安全加密机制的协议，使用 SSL/TLS 加密技术对数据进行加密传输，能够有效地保护数据的安全性**。HTTPS 协议在传输过程中，可以保证数据的完整性和保密性，不容易被篡改和窃取，通常用于传输敏感数据，如个人信息、银行卡信息等。

具体来说，HTTP 和 HTTPS 的主要区别如下：

- 传输协议不同：HTTP 使用明文传输，HTTPS 使用 SSL/TLS 加密传输。

- **默认端口不同：HTTP 默认端口为 80，HTTPS 默认端口为 443。**

- 安全性不同：HTTPS 在传输过程中能够保证数据的完整性和保密性，不容易被篡改和窃取；而 HTTP 则容易被黑客攻击和窃取数据。

- 证书认证不同：HTTPS 需要使用数字证书进行认证，保证通信双方的身份安全；而 HTTP 则不需要进行认证，容易被伪装。


### SSL/TLS

在 SSL/TLS 协议中，服务器端需要使用数字证书进行身份认证。数字证书是一种用于证明网络通信双方身份的电子文档，由第三方机构颁发，包含了服务器的公钥、证书持有者的名称、证书颁发机构的名称等信息。客户端在与服务器进行通信时，会检查服务器的数字证书是否有效、是否被篡改，从而保证通信安全。


### Cookie

Cookie 是存储在客户端计算机上的小型文本文件，它可以被服务器端使用来跟踪用户的访问行为，记录用户的偏好和登录状态等信息。在 Web 应用中，Cookie 被广泛应用于用户登录、购物车、广告跟踪等功能中。

Cookie 是通过 HTTP 协议在客户端和服务器之间进行传输的，当浏览器向服务器发送请求时，如果服务器返回了 Set-Cookie 头部信息，浏览器会将其保存在本地的 Cookie 中，并在之后的请求中自动将 Cookie 发送给服务器端。Cookie 通常包含了如下信息：

- 名称：用于标识 Cookie 的名称；
- 值：存储在 Cookie 中的值；
- 过期时间：用于指定 Cookie 的过期时间，过期后浏览器将删除该 Cookie；
- 域名：用于指定 Cookie 的作用域；
- 路径：用于指定 Cookie 的路径；
- 安全标识：用于指定是否只在安全连接（HTTPS）下使用 Cookie。

### HTTP 的请求方法

HTTP 的请求方法有 GET、POST、PUT、DELETE、HEAD、OPTIONS 等。其中：
- GET 方法用于获取资源
- POST 方法用于提交数据
- PUT 方法用于更新资源
- DELETE 方法用于删除资源
- HEAD 方法用于获取资源头信息
- OPTIONS 方法用于获取资源支持的通信选项

### HTTP 的常见头部信息

HTTP 的头部信息用于传递关于请求或响应的元数据。常见的头部信息有 Content-Type、User-Agent、Cookie、Authorization 等。例如，Content-Type 表示请求或响应的 MIME 类型，User-Agent 表示浏览器的名称和版本，Cookie 表示客户端的身份验证信息等。

### HTTP常见状态码

HTTP状态码用于表示HTTP请求的处理结果，主要分为5类，分别是1xx（信息性状态码）、2xx（成功状态码）、3xx（重定向状态码）、4xx（客户端错误状态码）和5xx（服务器错误状态码）。下面介绍一下常见的几个状态码：

- 200 OK：请求成功，服务器已经成功处理了请求。
- 301 Moved Permanently：请求的资源已经被永久移动到了新的位置，所有对该资源的访问都应该转向新的URL。
- 400 Bad Request：请求的语法格式有误，服务器无法理解该请求。
- 404 Not Found：请求的资源不存在，服务器无法找到该资源。
- 500 Internal Server Error：服务器内部错误，无法完成请求处理。

---

## HTML

### 加载网页的过程

- DNS 解析：浏览器通过 URL 中的域名向 DNS 服务器发送请求，获取该域名对应的 IP 地址。
- 建立 TCP 连接：使用 HTTP 协议的话，浏览器会与服务器建立 TCP 连接，进行数据传输。
- 发送 HTTP 请求：浏览器向服务器发送 HTTP 请求，请求资源文件，如 HTML、CSS、JavaScript、图片、视频等文件。
- 服务器响应请求：服务器收到浏览器发送的请求后，根据请求的资源，将相应的资源文件返回给浏览器。
- 浏览器解析渲染：浏览器接收到服务器返回的资源后，会对 HTML、CSS、JavaScript 进行解析，并将解析出来的数据进行渲染显示，显示在用户界面上。

### 渲染网页的过程

- 构建 DOM 树：浏览器接收到 HTML 文件后，会根据 HTML 的标记语言，解析 HTML 标签，构建出 DOM 树。DOM 树是浏览器渲染网页的基础，它代表了 HTML 文档的结构和内容，可以被 JavaScript 脚本动态修改。

- 样式计算：浏览器会根据 CSS 样式表中的规则，计算出每个元素的样式属性。这些样式属性包括宽度、高度、颜色、字体大小、边框等。

- 布局：浏览器会根据 DOM 树和样式计算结果，计算出每个元素在页面上的布局位置和大小。这个过程被称为“布局”或“回流”。生产渲染树

- 绘制：浏览器会将布局后的元素绘制到屏幕上，形成最终的页面效果。这个过程被称为“绘制”或“重绘”。

- 合成：浏览器会将多个图层合成为一个整体，形成最终的页面渲染结果。合成操作通常会在 GPU 中进行，以提高渲染效率和性能。

### 预加载懒加载

这两种方式都是提高网页性能的方式，两者主要区别是一个是提前加载，一个是迟缓甚至不加载。懒加载对服务器前端有一定的缓解压力作用，预加载则会增加服务器前端压力。

- 懒加载也叫延迟加载，指的是在长网页中延迟加载图片的时机，当用户需要访问时，再去加载，这样可以提高网站的首屏加载速度，提升用户的体验，并且可以减少服务器的压力。它适用于图片很多，页面很长的电商网站的场景。懒加载的实现原理是，将页面上的图片的 src 属性设置为空字符串，将图片的真实路径保存在一个自定义属性中，当页面滚动的时候，进行判断，如果图片进入页面可视区域内，则从自定义属性中取出真实路径赋值给图片的 src 属性，以此来实现图片的延迟加载。
- 预加载指的是将所需的资源提前请求加载到本地，这样后面在需要用到时就直接从缓存取资源。 通过预加载能够减少用户的等待时间，提高用户的体验。我了解的预加载的最常用的方式是使用 js 中的 image 对象，通过为 image 对象来设置 scr 属性，来实现图片的预加载。

### cookie和localStorage

- 存储方式：
Cookie是存储在浏览器中的文本文件，它的大小一般受限于浏览器和操作系统的限制，最大不能超过4KB。而LocalStorage是HTML5中新增的一种本地存储机制，可以将数据以键值对的形式存储在浏览器中，容量一般为5MB到10MB。

- 生命周期：
Cookie有过期时间，可以设置过期时间，过期后会被浏览器删除；而LocalStorage是永久性存储，除非手动删除，否则一直存在。

- 应用场景：
Cookie主要用于客户端与服务器之间的通信，比如保持用户登录状态、跟踪用户浏览行为等；而LocalStorage则主要用于本地存储一些需要长期保存的数据，比如用户个性化设置、购物车数据等。

- 安全性：
Cookie存在一些安全问题，比如跨站脚本攻击（XSS）和跨站请求伪造（CSRF）等，因为Cookie中存储的数据可以被其他网站访问和修改；而LocalStorage只能被同一个域名下的JavaScript代码访问和修改，相对来说更加安全。

---

## CSS

### Position

- static（默认值）：静态定位，元素遵循文档流，不受top、bottom、left、right属性影响。

- relative：相对定位，元素仍在文档流中，但可以通过top、bottom、left、right属性相对于其正常位置进行偏移。相对定位的元素对其他元素的布局不会产生影响。

- absolute：绝对定位，元素完全脱离文档流，可以通过top、bottom、left、right属性相对于其最近的已定位的祖先元素进行定位。如果不存在已定位的祖先元素，则相对于浏览器窗口进行定位。

- fixed：固定定位，元素也完全脱离文档流，相对于浏览器窗口进行定位，元素的位置不会随着页面滚动而改变。

- sticky：粘性定位，元素在其父容器内表现为relative定位，但当元素滚动到特定位置时，它会固定在该位置，表现为fixed定位。

### @media 媒体查询 屏幕适配